//
// cfg file to run L1 Global Trigger emulator on a file containing the output of the 
// GMT system, with GCT blocked 
//

process TestGtGmtFile = {

	// source file: GMT produced file 
	source = PoolSource {
		untracked vstring fileNames = {'file:/afs/cern.ch/user/g/ghete/scratch0/CmsswTestFiles/gmtTestFile.root'}
		untracked int32  maxEvents = 10
	}	

    // load and configure modules

	include "L1Trigger/GlobalTrigger/data/L1GtEmul.cfi"

	// inputMask: bit 0 GCT, bit 1 GMT; bit value = 1 means block module
	// block GCT input
	replace L1GtEmul.inputMask = { 1, 0 }
	
	// module list
	path p = { L1GtEmul }

    service = MessageLogger {
      untracked vstring destinations =  {"testGt_GmtFile"}
      untracked PSet testGt_GmtFile = { 
         untracked string threshold = "DEBUG" 
         untracked PSet DEBUG = { untracked int32 limit = -1}    
         untracked PSet INFO = { untracked int32 limit = -1}    
      }
      untracked vstring debugModules = { "L1GtEmul"} 
   }

		
	module outputL1GtEmul = PoolOutputModule { untracked string fileName = "testGt_GmtFile.root" }
	endpath outpath = { outputL1GtEmul }
	
	
	
}