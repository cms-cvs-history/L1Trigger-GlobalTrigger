//
// cfg file to run L1 Global Trigger emulator on a file containing the output of the 
// GMT system, with GCT blocked 
//

process TestGtGmtFile = {

	// source file: GMT produced file 
	source = PoolSource {
		untracked vstring fileNames = {
		    'file:/afs/cern.ch/user/g/ghete/scratch0/CmsswTestFiles/gmtTestFile.root'
		}
		untracked int32  maxEvents = 10
	}	

    // load and configure modules

	include "L1Trigger/GlobalTrigger/data/l1GtEmulDigis.cfi"

	// inputMask: bit 0 GCT, bit 1 GMT; bit value = 1 means block module
	// block GCT input
	replace l1GtEmulDigis.inputMask = { 1, 0 }
	
	// module list
	path p = { l1GtEmulDigis }

    service = MessageLogger {
      untracked vstring destinations =  {"testGt_GmtFile"}
      untracked PSet testGt_GmtFile = { 
         untracked string threshold = "DEBUG" 
         untracked PSet DEBUG = { untracked int32 limit = -1}    
         untracked PSet INFO = { untracked int32 limit = -1}    
      }
      untracked vstring debugModules = { "l1GtEmulDigis"} 
   }

		
	module outputL1GlobalTrigger = PoolOutputModule { 
	  untracked string fileName = "testGt_Emulator_outputGmtFile.root" 
	}
	endpath outpath = { outputL1GlobalTrigger }
	
	
	
}